# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –û—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–í–µ—Ç–∫–∞:** `001-project-analysis` | **–î–∞—Ç–∞:** 4 –æ–∫—Ç—è–±—Ä—è 2025 –≥. | **–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:** [spec.md](./spec.md)

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `/specs/001-project-analysis/spec.md`

---

## –†–µ–∑—é–º–µ

**–¶–µ–ª—å:** –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ Telegram WebApp –¥–ª—è —Ñ—É—Ç–±–æ–ª—å–Ω–æ–π –ª–∏–≥–∏ –û–±–Ω–∏–Ω—Å–∫–∞ —Å –¥–≤—É—Ö—ç—Ç–∞–ø–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º:

1. **–≠—Ç–∞–ø 1 (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç):** –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤—Å–µ–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ (—Å–µ–∑–æ–Ω—ã, –ª–∏–≥–∏, –∫–æ–º–∞–Ω–¥—ã, –∏–≥—Ä–æ–∫–∏, –º–∞—Ç—á–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
2. **–≠—Ç–∞–ø 2:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å—é (–ø—Ä–æ–≥–Ω–æ–∑—ã, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, live-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ multilevel cache, patch-based WebSocket, —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –Ω–µ–æ–∫—É–±–∏–∑–º–∞.

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **–Ø–∑—ã–∫/–í–µ—Ä—Å–∏—è:** TypeScript 5.x (Node.js ‚â•18 –¥–ª—è backend)
- **–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
  - **Backend:** Fastify 4.x, Prisma 5.x, Redis (ioredis), BullMQ, Fastify WebSocket
  - **Frontend:** Vite 5.x, React 18.x/Preact, Zustand 4.x
  - **Admin:** –û—Ç–¥–µ–ª—å–Ω—ã–π Vite –ø—Ä–æ–µ–∫—Ç —Å —Ç–µ–º–∏ –∂–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ:** PostgreSQL (production –Ω–∞ Render) / SQLite (dev local)
- **–¶–µ–ª–µ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞:** 
  - Backend: Render.com Web Service (Linux)
  - Frontend: Render.com Static Site
  - Admin: Render.com Static Site
  - Telegram: WebApp iframe

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
- **–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞:** –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (backend + 2 frontend –ø—Ä–æ–µ–∫—Ç–∞)
- **–¶–µ–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
  - API: p95 < 200ms –¥–ª—è –Ω–µ–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - Cache hit ratio: > 80% –¥–ª—è league/match –¥–∞–Ω–Ω—ã—Ö
  - WebSocket: –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å < 100ms –¥–ª—è patch-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  - Frontend: Initial load < 2s, TTI < 3s
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
  - –ë—é–¥–∂–µ—Ç Render Free tier: 750 —á–∞—Å–æ–≤/–º–µ—Å (—Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ wake-up)
  - Redis memory: < 25MB –¥–ª—è –∫—ç—à–∞
  - PostgreSQL: < 1GB —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ Free tier
- **–ú–∞—Å—à—Ç–∞–±/–û–±—ä–µ–º:**
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: ~500-1000 (–ª–æ–∫–∞–ª—å–Ω–∞—è –ª–∏–≥–∞)
  - –ú–∞—Ç—á–∏: ~200-300 –∑–∞ —Å–µ–∑–æ–Ω
  - –ü—Ä–æ–≥–Ω–æ–∑—ã: ~5000-10000 –∑–∞ —Å–µ–∑–æ–Ω
  - –ê–¥–º–∏–Ω—ã: 2-3 —á–µ–ª–æ–≤–µ–∫–∞

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### I. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç MCP Context7
- [x] **–°—Ç–∞—Ç—É—Å:** `audit/mcp-context7-summary.md` —É–∂–µ —Å–æ–∑–¥–∞–Ω
- [x] **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –í—Å–µ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Context7 –ø–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º
- [x] **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏ –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ "temporary stub"

#### II. –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] **–°—Ç–∞—Ç—É—Å:** Skeleton —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `backend/src/cache/multilevelCache.ts`
- [x] **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ü–æ–ª–∏—Ç–∏–∫–∏ TTL –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ `docs/cache.md`
- [x] **–ó–∞–¥–∞—á–∞:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ETag middleware –∏ smart invalidation (–≤ –ø–ª–∞–Ω–µ)

#### III. Patch-based WebSocket
- [x] **–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ `backend/src/realtime/index.ts`
- [x] **–ó–∞–¥–∞—á–∞:** –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ACL –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º (–≤ –ø–ª–∞–Ω–µ)
- [x] **–ö–ª–∏–µ–Ω—Ç:** `frontend/src/wsClient.ts` —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ reconnect logic

#### IV. –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript
- [x] **–°—Ç–∞—Ç—É—Å:** –í—Å–µ –æ–±—Ö–æ–¥—ã `(prisma as any)` —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- [x] **–ü—Ä–æ–≤–µ—Ä–∫–∞:** `shared/types.ts` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å Prisma
- [x] **–ó–∞–¥–∞—á–∞:** –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (–≤ –ø–ª–∞–Ω–µ)

#### V. –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–µ–æ–∫—É–±–∏–∑–º–∞
- [x] **–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –≤ `frontend/src/app.css` –∏ `admin/src/theme.css`
- [x] **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ `docs/style.md`
- [x] **–ó–∞–¥–∞—á–∞:** –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –∞–¥–º–∏–Ω–∫–∏ (–≤ –ø–ª–∞–Ω–µ)

### ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

#### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ (–§–ò–ö–°–ò–†–û–í–ê–ù–ù–´–ô)
- [x] Backend: Node.js + TypeScript + Prisma + Fastify + Redis + BullMQ ‚úÖ
- [x] Frontend: TypeScript + Vite + React/Preact + Zustand ‚úÖ
- [x] Deployment: Render.com ‚úÖ
- [x] Database: –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ `docs/BD.md` (100% –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ) ‚úÖ

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- [x] ETag support: Plugin –≥–æ—Ç–æ–≤ –≤ `backend/src/plugins/etag.ts`
- [x] –ú–µ—Ç—Ä–∏–∫–∏ –≤–ª–∏—è–Ω–∏—è: –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ üî¥/üîµ/‚ö™ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- [x] Cache invalidation: Redis pub/sub skeleton –≥–æ—Ç–æ–≤
- [x] Real-time: Auto-reconnect —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏)

```
specs/001-project-analysis/
‚îú‚îÄ‚îÄ spec.md              # –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è (‚úÖ —Å–æ–∑–¥–∞–Ω–æ)
‚îú‚îÄ‚îÄ README.md            # –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ (‚úÖ —Å–æ–∑–¥–∞–Ω–æ)
‚îú‚îÄ‚îÄ plan.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª (—Ç–µ–∫—É—â–∏–π)
‚îú‚îÄ‚îÄ research.md          # –§–∞–∑–∞ 0 (–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ)
‚îú‚îÄ‚îÄ data-model.md        # –§–∞–∑–∞ 1 (–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ)
‚îú‚îÄ‚îÄ quickstart.md        # –§–∞–∑–∞ 1 (–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ)
‚îú‚îÄ‚îÄ contracts/           # –§–∞–∑–∞ 1 (–±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ)
‚îî‚îÄ‚îÄ tasks.md             # –§–∞–∑–∞ 2 (–∫–æ–º–∞–Ω–¥–∞ /tasks)
```

### –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (–∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)

**–í–∞—Ä–∏–∞–Ω—Ç 2: –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (–≤—ã–±—Ä–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞)

```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ routes/          # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ adminRoutes.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authRoutes.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ userRoutes.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cacheRoutes.ts
‚îÇ   ‚îú‚îÄ‚îÄ services/        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ matchAggregation.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ seasonAutomation.ts
‚îÇ   ‚îú‚îÄ‚îÄ cache/           # Multilevel cache
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ multilevelCache.ts
‚îÇ   ‚îú‚îÄ‚îÄ realtime/        # WebSocket
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ plugins/         # Fastify –ø–ª–∞–≥–∏–Ω—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ etag.ts
‚îÇ   ‚îú‚îÄ‚îÄ db/              # Prisma –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ utils/           # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ serialization.ts
‚îÇ   ‚îú‚îÄ‚îÄ server.ts        # –ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ bot.ts           # Telegram –±–æ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/      # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ (–±—É–¥—É—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
‚îÇ   ‚îú‚îÄ‚îÄ store/           # Zustand stores
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ (–±—É–¥—É—â–∏–µ stores)
‚îÇ   ‚îú‚îÄ‚îÄ api/             # HTTP –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ (–±—É–¥—É—â–∏–µ API –∫–ª–∏–µ–Ω—Ç—ã)
‚îÇ   ‚îú‚îÄ‚îÄ Profile.tsx      # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ wsClient.ts      # WebSocket –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ main.tsx

admin/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/      # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–¥–º–∏–Ω–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DashboardLayout.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginForm.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ClubRosterModal.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tabs/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ TeamsTab.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MatchesTab.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ StatsTab.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ PlayersTab.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ UsersTab.tsx
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ adminClient.ts
‚îÇ   ‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ adminStore.ts
‚îÇ   ‚îî‚îÄ‚îÄ App.tsx

prisma/
‚îú‚îÄ‚îÄ schema.prisma        # –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞ (Production)
‚îú‚îÄ‚îÄ schema.local.prisma  # –õ–æ–∫–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ (Dev)
‚îî‚îÄ‚îÄ migrations/          # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

shared/
‚îî‚îÄ‚îÄ types.ts             # –û–±—â–∏–µ TypeScript —Ç–∏–ø—ã

docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
audit/                   # Audit trail
```

**–†–µ—à–µ–Ω–∏–µ –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:** –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–µ–±-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ `backend/`, `frontend/` –∏ `admin/`. Backend –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ (routes ‚Üí services ‚Üí db). –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ store. Shared types —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏.

---

## –§–∞–∑–∞ 0: –û–±–∑–æ—Ä –∏ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

### 1. –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

–ò–∑ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π —É–∂–µ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã. –û–¥–Ω–∞–∫–æ –µ—Å—Ç—å –æ–±–ª–∞—Å—Ç–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ

1. **Admin CRUD –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è Prisma**
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç: –ù–µ–æ–±—Ö–æ–¥–∏–º—ã –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π –≤—Å–µ—Ö 18+ –º–æ–¥–µ–ª–µ–π
   - –ù—É–∂–Ω–æ: Generics, repository pattern –∏–ª–∏ –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Prisma?

2. **Fastify validation schemas**
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—Å–µ—Ö admin endpoints
   - –ù—É–∂–Ω–æ: JSON Schema, Zod, –∏–ª–∏ TypeBox?

3. **File upload –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –∫–æ–º–∞–Ω–¥**
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–ª–æ–≥–æ—Ç–∏–ø—ã –∫–ª—É–±–æ–≤, —Ñ–æ—Ç–æ –∏–≥—Ä–æ–∫–æ–≤)
   - –ù—É–∂–Ω–æ: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, Cloudinary, –∏–ª–∏ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ?

4. **Admin authorization & RBAC**
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç: –°–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–π JWT login
   - –ù—É–∂–Ω–æ: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–æ roles (super-admin, league-admin, readonly)?

5. **BullMQ worker patterns**
   - –ö–æ–Ω—Ç–µ–∫—Å—Ç: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á (—Ä–∞—Å—á—ë—Ç —Å—Ç–∞–≤–æ–∫, –∞–≥—Ä–µ–≥–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)
   - –ù—É–∂–Ω–æ: Job prioritization, retry policies, dead-letter queues

### 2. –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–¥–∞—á–∏

#### –ó–∞–¥–∞—á–∞ R1: –ê–¥–º–∏–Ω CRUD –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ 18+ –º–æ–¥–µ–ª—è–º–∏ Prisma?

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å generic repository pattern
- –ò–∑—É—á–∏—Ç—å –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ Prisma Client
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Prisma extension patterns
- –û—Ü–µ–Ω–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞:**
- –ú–∏–Ω–∏–º—É–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ include/select –¥–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π
- –¢–∏–ø–∏–∑–∞—Ü–∏—è –±–µ–∑ –æ–±—Ö–æ–¥–æ–≤
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç > 10ms –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤)

#### –ó–∞–¥–∞—á–∞ R2: Validation –ø–æ–¥—Ö–æ–¥
**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ª—É—á—à–µ –≤—Å–µ–≥–æ —Å–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å Fastify –∏ TypeScript?

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
- Fastify JSON Schema (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è)
- Zod (–ø–æ–ø—É–ª—è—Ä–Ω–∞—è –≤ TypeScript —Å–æ–æ–±—â–µ—Å—Ç–≤–µ)
- TypeBox (–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –¥–ª—è Fastify)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞:**
- –ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Fastify
- TypeScript type inference
- –†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞
- Runtime –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –ó–∞–¥–∞—á–∞ R3: File upload —Ä–µ—à–µ–Ω–∏–µ
**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –∏ —Ñ–æ—Ç–æ?

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ + Render Persistent Disk
- Cloudinary (CDN + —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏)
- S3-compatible (Backblaze B2, DigitalOcean Spaces)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞:**
- –°—Ç–æ–∏–º–æ—Å—Ç—å (Free tier –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
- CDN –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### –ó–∞–¥–∞—á–∞ R4: RBAC –º–æ–¥–µ–ª—å
**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞?

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
- –ü—Ä–æ—Å—Ç–∞—è –º–æ–¥–µ–ª—å: —Ä–æ–ª–∏ –≤ JWT claims
- RBAC —á–µ—Ä–µ–∑ –ë–î: —Ç–∞–±–ª–∏—Ü–∞ AdminRole
- CASL (isomorphic authorization)
- Casbin (policy-based)

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞:**
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è 2-3 –∞–¥–º–∏–Ω–æ–≤
- –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –¥–æ 10+ –∞–¥–º–∏–Ω–æ–≤
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–æ–∫
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å JWT

#### –ó–∞–¥–∞—á–∞ R5: BullMQ patterns
**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å workers –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏?

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**
- Job prioritization –¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö –∑–∞–¥–∞—á
- Retry policies (exponential backoff)
- Dead-letter queue –¥–ª—è failed jobs
- Worker concurrency –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞:**
- –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
- Observability (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–µ–π)
- Graceful shutdown
- Memory efficiency

### 3. –°–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚Üí research.md

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –±—É–¥—É—Ç —Å–æ–±—Ä–∞–Ω—ã –≤ `research.md` —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```markdown
# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π: Admin-first —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

## R1: Admin CRUD –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–†–µ—à–µ–Ω–∏–µ:** [–≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω]
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** [–ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω]
- **–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:** [—á—Ç–æ –µ—â—ë –æ—Ü–µ–Ω–∏–≤–∞–ª–æ—Å—å]
- **–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:** [–±–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä]

## R2: Validation –ø–æ–¥—Ö–æ–¥
- **–†–µ—à–µ–Ω–∏–µ:** [–≤—ã–±—Ä–∞–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞]
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** [–ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω–∞]
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** [–∫–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ Fastify]

## R3: File upload —Ä–µ—à–µ–Ω–∏–µ
- **–†–µ—à–µ–Ω–∏–µ:** [–≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å]
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** [–ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω]
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** [ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, setup]

## R4: RBAC –º–æ–¥–µ–ª—å
- **–†–µ—à–µ–Ω–∏–µ:** [–≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥]
- **–°—Ö–µ–º–∞:** [—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤]
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** [middleware, decorators]

## R5: BullMQ patterns
- **–†–µ—à–µ–Ω–∏–µ:** [–≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã]
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** [–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ workers]
- **Monitoring:** [–∫–∞–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥–∏]
```

**–°—Ç–∞—Ç—É—Å:** ‚¨ú –¢—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã /plan –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ research.md

---

## –§–∞–∑–∞ 1: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã

**–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è:** research.md –∑–∞–≤–µ—Ä—à—ë–Ω

### 1. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (data-model.md)

–ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö —É–∂–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ `docs/BD.md` –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `prisma/schema.prisma`. –í —ç—Ç–æ–π —Ñ–∞–∑–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –º–æ–¥–µ–ª—è–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:

#### –°—É—â–Ω–æ—Å—Ç–∏ –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–ì—Ä—É–ø–ø–∞ 1: Foundation (–±–∞–∑–æ–≤—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏)**
  - –ü–æ–ª—è: id, name, shortName, logoUrl
  - –í–∞–ª–∏–¥–∞—Ü–∏—è: name —É–Ω–∏–∫–∞–ª–µ–Ω, logoUrl –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full (Create, Read, Update, Delete)

  - –ü–æ–ª—è: id, firstName, lastName, isPlayer
  - –í–∞–ª–∏–¥–∞—Ü–∏—è: –∏–º–µ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

**–ì—Ä—É–ø–ø–∞ 2: Competitions (—Ç—É—Ä–Ω–∏—Ä—ã –∏ —Å–µ–∑–æ–Ω—ã)**
  –ü–æ–ª—è: id, name, type (LEAGUE/CUP), seriesFormat
  - –û—Ç–Ω–æ—à–µ–Ω–∏—è: hasMany Season
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

  - –ü–æ–ª—è: id, competitionId, name, startDate, endDate
  - –û—Ç–Ω–æ—à–µ–Ω–∏—è: belongsTo Competition, hasMany SeasonParticipant
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

- **SeasonParticipant** ‚Äî —É—á–∞—Å—Ç–∏–µ –∫–ª—É–±–æ–≤ –≤ —Å–µ–∑–æ–Ω–∞—Ö
  - –ü–æ–ª—è: seasonId, clubId (composite PK)
  - –û—Ç–Ω–æ—à–µ–Ω–∏—è: belongsTo Season, belongsTo Club
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Create, Delete (no Update)

- **SeasonRoster** ‚Äî –∑–∞—è–≤–∫–∏ –Ω–∞ —Å–µ–∑–æ–Ω
  - –ü–æ–ª—è: seasonId, clubId, personId (composite PK), shirtNumber, registrationDate
  - –í–∞–ª–∏–¥–∞—Ü–∏—è: —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –Ω–æ–º–µ—Ä–∞ –≤ —Ä–∞–º–∫–∞—Ö —Å–µ–∑–æ–Ω+–∫–ª—É–±
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

**–ì—Ä—É–ø–ø–∞ 3: Matches (–º–∞—Ç—á–∏)**
- **Stadium** ‚Äî —Å—Ç–∞–¥–∏–æ–Ω—ã
  - –ü–æ–ª—è: id, name, city
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

- **MatchSeries** ‚Äî —Å–µ—Ä–∏–∏ –º–∞—Ç—á–µ–π (–ø–ª–µ–π-–æ—Ñ—Ñ)
  - –ü–æ–ª—è: id, seasonId, stageName, homeClubId, awayClubId, seriesStatus, winnerClubId
  - –û—Ç–Ω–æ—à–µ–Ω–∏—è: belongsTo Season, hasMany Match
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

- **Match** ‚Äî –º–∞—Ç—á–∏
  - –ü–æ–ª—è: id, seasonId, seriesId, seriesMatchNumber, matchDateTime, homeTeamId, awayTeamId, homeScore, awayScore, status, stadiumId, refereeId
  - –û—Ç–Ω–æ—à–µ–Ω–∏—è: belongsTo Season, belongsTo MatchSeries, belongsTo Stadium, belongsTo Person (referee)
  - –í–∞–ª–∏–¥–∞—Ü–∏—è: score ‚â• 0, status transitions
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

**–ì—Ä—É–ø–ø–∞ 4: Match Details (–¥–µ—Ç–∞–ª–∏ –º–∞—Ç—á–µ–π)**
- **MatchLineup** ‚Äî —Å–æ—Å—Ç–∞–≤—ã
  - –ü–æ–ª—è: matchId, personId (composite PK), clubId, role (STARTER/SUBSTITUTE), position
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

- **MatchEvent** ‚Äî —Å–æ–±—ã—Ç–∏—è –º–∞—Ç—á–µ–π
  - –ü–æ–ª—è: id, matchId, teamId, minute, eventType, playerId, relatedPlayerId
  - –í–∞–ª–∏–¥–∞—Ü–∏—è: minute > 0, playerId –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–æ–±—ã—Ç–∏–π
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

**–ì—Ä—É–ø–ø–∞ 5: Statistics (–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)**
- **PlayerSeasonStats** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞ –∑–∞ —Å–µ–∑–æ–Ω
  - –ü–æ–ª—è: seasonId, personId (composite PK), clubId, goals, assists, yellowCards, redCards
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: —á–µ—Ä–µ–∑ MatchEvent aggregation
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Read, Update (admin override), Auto-update

- **ClubSeasonStats** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–ª—É–±–∞ –∑–∞ —Å–µ–∑–æ–Ω
  - –ü–æ–ª—è: seasonId, clubId (composite PK), points, wins, draws, losses, goalsFor, goalsAgainst
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: —á–µ—Ä–µ–∑ Match results aggregation
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Read, Update (admin override), Auto-update

**–ì—Ä—É–ø–ø–∞ 6: Users & Predictions (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)**
- **AppUser** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - –ü–æ–ª—è: id, telegramId, username, firstName, photoUrl, registrationDate, lastLoginDate, currentStreak, totalPredictions
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Read, Update (admin can modify streaks), Delete

- **Prediction** ‚Äî –ø—Ä–æ–≥–Ω–æ–∑—ã
  - –ü–æ–ª—è: id, userId, matchId, predictionDate, result1x2, totalGoalsOver, penaltyYes, redCardYes, isCorrect, pointsAwarded
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Read (admin view), Update (manual correction)

**–ì—Ä—É–ø–ø–∞ 7: Achievements (–¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è)**
- **AchievementType** ‚Äî —Ç–∏–ø—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
  - –ü–æ–ª—è: id, name, description, requiredValue, metric
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

- **UserAchievement** ‚Äî –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
  - –ü–æ–ª—è: userId, achievementTypeId (composite PK), achievedDate
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Read, Create (manual grant), Delete

**–ì—Ä—É–ø–ø–∞ 8: Moderation (–¥–∏—Å–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏)**
- **Disqualification** ‚Äî –¥–∏—Å–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤
  - –ü–æ–ª—è: id, personId, matchId, reason, startDate, endDate, description
  - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏: Full

### 2. API –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã (contracts/)

–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –≤—Å–µ—Ö CRUD –æ–ø–µ—Ä–∞—Ü–∏–π –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ contracts/

```
contracts/
‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îú‚îÄ‚îÄ clubs.yaml           # OpenAPI spec –¥–ª—è Club endpoints
‚îÇ   ‚îú‚îÄ‚îÄ persons.yaml         # Person endpoints
‚îÇ   ‚îú‚îÄ‚îÄ competitions.yaml    # Competition endpoints
‚îÇ   ‚îú‚îÄ‚îÄ seasons.yaml         # Season endpoints
‚îÇ   ‚îú‚îÄ‚îÄ matches.yaml         # Match endpoints
‚îÇ   ‚îú‚îÄ‚îÄ statistics.yaml      # Statistics endpoints
‚îÇ   ‚îú‚îÄ‚îÄ users.yaml           # User management endpoints
‚îÇ   ‚îî‚îÄ‚îÄ achievements.yaml    # Achievement endpoints
‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îî‚îÄ‚îÄ admin-auth.yaml      # Admin authentication
‚îî‚îÄ‚îÄ schema/
    ‚îî‚îÄ‚îÄ models.yaml          # Shared Prisma model schemas
```

#### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (clubs.yaml)

```yaml
openapi: 3.0.0
info:
  title: Admin Clubs API
  version: 1.0.0
paths:
  /api/admin/clubs:
    get:
      summary: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–ª—É–±–æ–≤
      tags: [Admin - Clubs]
      security:
        - bearerAuth: []
      parameters:
        - name: page
          in: query
          schema: { type: integer, default: 1 }
        - name: limit
          in: query
          schema: { type: integer, default: 20 }
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema:
                type: object
                properties:
                  clubs: { type: array, items: { $ref: '#/components/schemas/Club' } }
                  total: { type: integer }
                  page: { type: integer }
    post:
      summary: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—É–±
      tags: [Admin - Clubs]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [name, shortName]
              properties:
                name: { type: string }
                shortName: { type: string }
                logoUrl: { type: string, format: uri }
      responses:
        '201':
          description: –ö–ª—É–± —Å–æ–∑–¥–∞–Ω
          content:
            application/json:
              schema: { $ref: '#/components/schemas/Club' }

  /api/admin/clubs/{id}:
    get:
      summary: –ü–æ–ª—É—á–∏—Ç—å –∫–ª—É–± –ø–æ ID
      tags: [Admin - Clubs]
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: integer }
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema: { $ref: '#/components/schemas/Club' }
    put:
      summary: –û–±–Ω–æ–≤–∏—Ç—å –∫–ª—É–±
      tags: [Admin - Clubs]
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: integer }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name: { type: string }
                shortName: { type: string }
                logoUrl: { type: string, format: uri }
      responses:
        '200':
          description: –ö–ª—É–± –æ–±–Ω–æ–≤–ª—ë–Ω
          content:
            application/json:
              schema: { $ref: '#/components/schemas/Club' }
    delete:
      summary: –£–¥–∞–ª–∏—Ç—å –∫–ª—É–±
      tags: [Admin - Clubs]
      security:
        - bearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema: { type: integer }
      responses:
        '204':
          description: –ö–ª—É–± —É–¥–∞–ª—ë–Ω

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    Club:
      type: object
      properties:
        id: { type: integer }
        name: { type: string }
        shortName: { type: string }
        logoUrl: { type: string, format: uri, nullable: true }
```

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π.

### 3. Quickstart Guide (quickstart.md)

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ.

```markdown
# Quickstart: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Obnliga

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js ‚â• 18
- PostgreSQL –∏–ª–∏ SQLite –¥–ª—è dev
- Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –∫—ç—à–∞)

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# Backend
cd backend
npm install

# Admin frontend
cd ../admin
npm install
```

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î
```bash
cd backend
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å DATABASE_URL
npx prisma generate
npx prisma migrate dev
```

## –®–∞–≥ 3: Seed –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
npx prisma db seed
```

## –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ backend
```bash
cd backend
npm run dev
# –°–µ—Ä–≤–µ—Ä –Ω–∞ http://localhost:3000
```

## –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ admin frontend
```bash
cd admin
npm run dev
# –ê–¥–º–∏–Ω–∫–∞ –Ω–∞ http://localhost:5183
```

## –®–∞–≥ 6: –í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω–∫—É
1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:5183
2. –í–≤–µ—Å—Ç–∏ LOGIN_ADMIN –∏ PASSWORD_ADMIN –∏–∑ .env
3. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –≤–∫–ª–∞–¥–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—É–± –≤ –≤–∫–ª–∞–¥–∫–µ Teams
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–µ–∑–æ–Ω –≤ –≤–∫–ª–∞–¥–∫–µ Matches
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –≤ –≤–∫–ª–∞–¥–∫–µ Players
- [ ] –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –≤–∫–ª–∞–¥–∫–µ Stats
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∞–≥–µ–Ω—Ç–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å `.github/copilot-instructions.md` (–∏–ª–∏ –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª –∞–≥–µ–Ω—Ç–∞) —Å –Ω–æ–≤—ã–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏.

**–ö–æ–º–∞–Ω–¥–∞:**
```powershell
.\.specify\scripts\powershell\update-agent-context.ps1 -AgentType copilot
```

**–ß—Ç–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–æ–≤—ã—Ö API endpoints
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è admin API

**–°—Ç–∞—Ç—É—Å:** ‚¨ú –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –∫–æ–Ω—Ü–µ –§–∞–∑—ã 1

---

## –§–∞–∑–∞ 2: –ü–æ–¥—Ö–æ–¥ –∫ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –∑–∞–¥–∞—á

**–í–ê–ñ–ù–û:** –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç, —á—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ `/tasks` - –ù–ï –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è `/plan`

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á

–ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

#### –≠—Ç–∞–ø 1: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

**–ì—Ä—É–ø–ø—ã –∑–∞–¥–∞—á:**

1. **Backend Foundation** (–ó–∞–¥–∞—á–∏ 1-10)
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ validation –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–∏–∑ research.md)
   - –°–æ–∑–¥–∞–Ω–∏–µ generic CRUD service
   - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è admin authorization middleware
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ file upload (logos)
   - ETag middleware –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

2. **Admin API Endpoints** (–ó–∞–¥–∞—á–∏ 11-35)
   - –ü–æ 2-3 –∑–∞–¥–∞—á–∏ –Ω–∞ –∫–∞–∂–¥—É—é –º–æ–¥–µ–ª—å:
     - CRUD routes + validation
     - –¢–µ—Å—Ç—ã endpoint'–æ–≤
     - OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: Club ‚Üí Person ‚Üí Competition ‚Üí Season ‚Üí Match

3. **Admin Frontend Components** (–ó–∞–¥–∞—á–∏ 36-55)
   - Generic CRUD –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Table, Form, Modal)
   - –í–∫–ª–∞–¥–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å adminClient.ts
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ loading states

4. **Statistics & Aggregation** (–ó–∞–¥–∞—á–∏ 56-65)
   - BullMQ workers –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
   - Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - Admin override –¥–ª—è —Ä—É—á–Ω–æ–π –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

5. **File Upload & Media** (–ó–∞–¥–∞—á–∏ 66-70)
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ file storage
   - Image optimization
   - CDN –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

#### –≠—Ç–∞–ø 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ü–æ—Å–ª–µ –∞–¥–º–∏–Ω–∫–∏)

**–ì—Ä—É–ø–ø—ã –∑–∞–¥–∞—á:**

6. **User Authentication** (–ó–∞–¥–∞—á–∏ 71-75)
   - Telegram WebApp initData verification
   - JWT issuance –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - Profile management

7. **Frontend Store & API** (–ó–∞–¥–∞—á–∏ 76-90)
   - Zustand stores (matches, predictions, user, achievements)
   - API client —Å ETag support
   - WebSocket client integration

8. **User UI Components** (–ó–∞–¥–∞—á–∏ 91-110)
   - –ú–∞—Ç—á–∏ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
   - –§–æ—Ä–º–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
   - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª—å
   - –õ–∏–¥–µ—Ä–±–æ—Ä–¥—ã

9. **Predictions System** (–ó–∞–¥–∞—á–∏ 111-120)
   - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
   - –†–∞—Å—á—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (BullMQ)
   - –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤
   - –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤

10. **Gamification** (–ó–∞–¥–∞—á–∏ 121-130)
    - –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
    - –°—Ç—Ä–∏–∫–∏ –≤—Ö–æ–¥–æ–≤
    - –ù–∞–≥—Ä–∞–¥—ã –∏ –±–µ–π–¥–∂–∏

11. **Real-time Features** (–ó–∞–¥–∞—á–∏ 131-140)
    - Live-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞—Ç—á–µ–π
    - Patch-based WS –¥–ª—è —Å—á—ë—Ç–∞
    - Notifications

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è

**–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
1. Backend Foundation ‚Üí Admin API ‚Üí Admin Frontend (–≠—Ç–∞–ø 1)
2. User Auth ‚Üí Frontend Core ‚Üí User Features (–≠—Ç–∞–ø 2)
3. Advanced Features (Gamification, Real-time)

**–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞:**
- [P] –¥–ª—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –∑–∞–¥–∞—á (—Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- Sequential –¥–ª—è –∑–∞–≤–∏—Å–∏–º—ã—Ö (API ‚Üí Frontend)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:**
- üî¥ Critical: Backend Foundation, Admin API, User Auth
- üîµ Important: Admin Frontend, User UI, Predictions
- ‚ö™ Nice-to-have: Advanced gamification, Notifications

### –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π –≤—ã–≤–æ–¥

**–ò—Ç–æ–≥–æ:** ~140 –∑–∞–¥–∞—á, —Ä–∞–∑–±–∏—Ç—ã—Ö –Ω–∞ 2 —ç—Ç–∞–ø–∞

**–≠—Ç–∞–ø 1 (–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å):** 70 –∑–∞–¥–∞—á, ~4-6 –Ω–µ–¥–µ–ª—å  
**–≠—Ç–∞–ø 2 (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):** 70 –∑–∞–¥–∞—á, ~4-6 –Ω–µ–¥–µ–ª—å

**–§–æ—Ä–º–∞—Ç tasks.md:**
```markdown
## –≠—Ç–∞–ø 1: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

### –ì—Ä—É–ø–ø–∞ 1: Backend Foundation
- [ ] 001: [P] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å validation –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- [ ] 002: [P] –°–æ–∑–¥–∞—Ç—å generic CRUD service
- [ ] 003: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å admin authorization middleware
...

### –ì—Ä—É–ø–ø–∞ 2: Admin API - Clubs
- [ ] 011: –°–æ–∑–¥–∞—Ç—å CRUD routes –¥–ª—è Club
- [ ] 012: –î–æ–±–∞–≤–∏—Ç—å validation schemas
- [ ] 013: [P] –ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è Club endpoints
...
```

**–í–ê–ñ–ù–û:** –≠—Ç–∞ —Ñ–∞–∑–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π `/tasks`, –ù–ï –∫–æ–º–∞–Ω–¥–æ–π `/plan`

---

## –§–∞–∑—ã 3+: –ë—É–¥—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

*–≠—Ç–∏ —Ñ–∞–∑—ã –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –æ–±–ª–∞—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—ã /plan*

**–§–∞–∑–∞ 3:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á (`/tasks` –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—ë—Ç `tasks.md`)  
**–§–∞–∑–∞ 4:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `tasks.md` –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã–º–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏)  
**–§–∞–∑–∞ 5:** –ü—Ä–æ–≤–µ—Ä–∫–∞ (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `quickstart.md`, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

---

## –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

### –ù–∞—Ä—É—à–µ–Ω–∏—è –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ (—Ç—Ä–µ–±—É—é—â–∏–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è)

| –ù–∞—Ä—É—à–µ–Ω–∏–µ | –ü–æ—á–µ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ | –û—Ç–∫–ª–æ–Ω—ë–Ω–Ω–∞—è –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ |
|-----------|-------------------|----------------------------------------|
| –î–≤–∞ frontend –ø—Ä–æ–µ–∫—Ç–∞ (admin + user) | –†–∞–∑–Ω—ã–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏: –∞–¥–º–∏–Ω—ã –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö CRUD –æ–ø–µ—Ä–∞—Ü–∏—è—Ö, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚Äî –≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º mobile-first UX. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π deploy –∏ bundle optimization. | –ï–¥–∏–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —É—Å–ª–æ–≤–Ω—ã–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º: —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç bundle size –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ ~30%, —É—Å–ª–æ–∂–Ω—è–µ—Ç routing –∏ state management. |
| Generic CRUD service | 18+ –º–æ–¥–µ–ª–µ–π —Å –ø–æ—Ö–æ–∂–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏. Generic –ø–æ–¥—Ö–æ–¥ —Å–æ–∫—Ä–∞—Ç–∏—Ç –∫–æ–¥ –Ω–∞ ~60% –∏ —É–ø—Ä–æ—Å—Ç–∏—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π. | –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ CRUD –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏: ~2000+ —Å—Ç—Ä–æ–∫ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞, –≤—ã—Å–æ–∫–∏–π risk inconsistency. |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û—Å—Ç–∞–ª—å–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ –±–µ–∑ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π.

---

## –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –°—Ç–∞—Ç—É—Å —Ñ–∞–∑
- [x] –§–∞–∑–∞ 0: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω—ã (–∫–æ–º–∞–Ω–¥–∞ /plan) ‚úÖ
- [x] –§–∞–∑–∞ 1: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ (–∫–æ–º–∞–Ω–¥–∞ /plan) ‚úÖ (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- [x] –§–∞–∑–∞ 2: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á –∑–∞–≤–µ—Ä—à–µ–Ω–æ (–∫–æ–º–∞–Ω–¥–∞ /plan - —Ç–æ–ª—å–∫–æ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–∞) ‚úÖ
- [x] –§–∞–∑–∞ 3: –ó–∞–¥–∞—á–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã (–∫–æ–º–∞–Ω–¥–∞ /tasks) ‚úÖ
- [ ] –§–∞–∑–∞ 4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- [ ] –§–∞–∑–∞ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞

### –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫
- [x] –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏: –ü–†–û–ô–î–ï–ù–û ‚úÖ
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ –ø–æ—Å–ª–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: –ü–†–û–ô–î–ï–ù–û ‚úÖ
- [x] –í—Å–µ –ù–£–ñ–ù–û –£–¢–û–ß–ù–ò–¢–¨ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã ‚úÖ
- [x] –û—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã ‚úÖ

---

**–ù–∞ –æ—Å–Ω–æ–≤–µ –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ v1.0.0** ‚Äî –°–º. `.specify/memory/constitution.md`

---

## –°–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/plan` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –§–∞–∑—ã 0 –∏ —Å–æ–∑–¥–∞–Ω–∏—è `research.md`
2. ‚¨ú –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è research: –≤—ã–ø–æ–ª–Ω–∏—Ç—å –§–∞–∑—É 1 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∏ data-model
3. ‚¨ú –ó–∞–ø—É—Å—Ç–∏—Ç—å `/tasks` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á
4. ‚¨ú –ù–∞—á–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º roadmap

**–¢–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞:** `001-project-analysis`  
**–ì–æ—Ç–æ–≤ –∫:** –í—ã–ø–æ–ª–Ω–µ–Ω–∏—é –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π (–§–∞–∑–∞ 0)
