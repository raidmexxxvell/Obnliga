# –ê–Ω–∞–ª–∏–∑ —Ç–∞–±–ª–∏—Ü –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –ë–î

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 02 Oct 2025  
**–¶–µ–ª—å:** –í—ã—è–≤–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å—Ö–µ–º—ã –ë–î

## üîç –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø –ê–ù–ê–õ–ò–ó–ê

–ü—Ä–æ–≤–µ—Ä–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∞—Å–ø–µ–∫—Ç—ã:
1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ backend –∫–æ–¥–µ** - –ø–æ–∏—Å–∫ –æ–±—Ä–∞—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ Prisma Client
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ frontend/admin** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ API –≤—ã–∑–æ–≤–æ–≤  
3. **–°–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å —Å—Ö–µ–º—ã** - –∞–Ω–∞–ª–∏–∑ FK constraints –∏ relations
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ BD.md –∏ roadmap.md

## ‚ùå –¢–ê–ë–õ–ò–¶–´ –î–õ–Ø –£–î–ê–õ–ï–ù–ò–Ø

### 1. –¢–∞–±–ª–∏—Ü—ã "–ø—Ä–∏–∑—Ä–∞–∫–∏" –∏–∑ —Å—Ç–∞—Ä—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π 
**(–£–∂–µ —É–¥–∞–ª–µ–Ω—ã –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ 20250928184321)**

- ‚ùå `news` - –±—ã–ª–∞ –≤ —Å—Ç–∞—Ä—ã—Ö –º–∏–≥—Ä–∞—Ü–∏—è—Ö, —É–¥–∞–ª–µ–Ω–∞
- ‚ùå `admin_logs` (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è) - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `AdminLog` 
- ‚ùå `player_statistics` - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `PlayerSeasonStats`
- ‚ùå `players` - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `Person`
- ‚ùå `teams` - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `Club`
- ‚ùå `tournaments` - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `Competition`
- ‚ùå `matches` (—Å—Ç–∞—Ä–∞—è) - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `Match`
- ‚ùå `match_events` (—Å—Ç–∞—Ä–∞—è) - –∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `MatchEvent`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –≠—Ç–∏ —Ç–∞–±–ª–∏—Ü—ã —É–∂–µ —É–¥–∞–ª–µ–Ω—ã –≤ –º–∏–≥—Ä–∞—Ü–∏–∏

### 2. –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –º–æ–¥–µ–ª–∏ –≤ –∫–æ–¥–µ

#### ‚ùå **User** (–∏–∑ userRoutes/authRoutes)
```typescript
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ userRoutes.ts –∏ authRoutes.ts —Å (prisma as any).user
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ schema.prisma (—Ç–æ–ª—å–∫–æ –≤ schema.local.prisma)
- ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `(prisma as any).user` - –æ–±—Ö–æ–¥ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- ‚ùå –î—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å `AppUser`
- ‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –º–æ–¥–µ–ª—å `User`, –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `AppUser` –≤ –∫–æ–¥–µ

#### ‚ùå **AdminLog** (—Ç–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è)
```prisma
model AdminLog {
  id              Int      @id @default(autoincrement())
  adminId         BigInt?  @map("admin_id")
  action          String
  description     String
  endpoint        String?
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ (–Ω–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ Prisma)
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ adminRoutes.ts
- ‚ùå –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∞—Å—å, –Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚ùå –ó–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –≤ —Å—Ö–µ–º–µ

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –¥–æ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—É–¥–∏—Ç–∞

## ‚úÖ –¢–ê–ë–õ–ò–¶–´ –ù–ï–û–ë–•–û–î–ò–ú–û –û–°–¢–ê–í–ò–¢–¨

### –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ:
- ‚úÖ **Club** - CRUD –≤ adminRoutes.ts
- ‚úÖ **Person** - CRUD –≤ adminRoutes.ts  
- ‚úÖ **Competition** - CRUD –≤ adminRoutes.ts
- ‚úÖ **Season** - CRUD –≤ adminRoutes.ts
- ‚úÖ **Stadium** - CRUD –≤ adminRoutes.ts
- ‚úÖ **Match** - CRUD –≤ adminRoutes.ts
- ‚úÖ **MatchSeries** - CRUD –≤ adminRoutes.ts
- ‚úÖ **MatchLineup** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–∞–≤–∞—Ö
- ‚úÖ **MatchEvent** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–æ–±—ã—Ç–∏—è—Ö –º–∞—Ç—á–µ–π
- ‚úÖ **AppUser** - CRUD –≤ adminRoutes.ts
- ‚úÖ **Prediction** - CRUD –≤ adminRoutes.ts
- ‚úÖ **AchievementType** - CRUD –≤ adminRoutes.ts
- ‚úÖ **UserAchievement** - CRUD –≤ adminRoutes.ts
- ‚úÖ **Disqualification** - CRUD –≤ adminRoutes.ts

### –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- ‚úÖ **PlayerSeasonStats** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ
- ‚úÖ **PlayerClubCareerStats** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ
- ‚úÖ **ClubSeasonStats** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ

### –°–≤—è–∑—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:
- ‚úÖ **SeasonParticipant** - —Å–≤—è–∑—å —Å–µ–∑–æ–Ω-–∫–ª—É–±
- ‚úÖ **SeasonRoster** - –∑–∞—è–≤–∫–∏ –∫–æ–º–∞–Ω–¥

## üõ† –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –®–∞–≥ 1: –£–¥–∞–ª–∏—Ç—å –º–æ–¥–µ–ª—å User
```typescript
// –ó–∞–º–µ–Ω–∏—Ç—å –≤ userRoutes.ts –∏ authRoutes.ts:
// (prisma as any).user ‚Üí prisma.appUser
```

### –®–∞–≥ 2: –£–¥–∞–ª–∏—Ç—å AdminLog –∏–∑ —Å—Ö–µ–º—ã
```prisma
// –£–¥–∞–ª–∏—Ç—å –º–æ–¥–µ–ª—å AdminLog –∏–∑ schema.prisma
// (–≤–µ—Ä–Ω—É—Ç—å –ø–æ–∑–∂–µ –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞—É–¥–∏—Ç–∞)
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é –±–µ–∑ AdminLog –∏ User
npx prisma migrate dev --name remove_unused_tables
```

## üìä –ò–¢–û–ì–û–í–´–ï –¶–ò–§–†–´

### –ö —É–¥–∞–ª–µ–Ω–∏—é: 2 —Ç–∞–±–ª–∏—Ü—ã
- ‚ùå `User` (–∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å AppUser)
- ‚ùå `AdminLog` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –û—Å—Ç–∞–µ—Ç—Å—è: 17 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- 8 –æ—Å–Ω–æ–≤–Ω—ã—Ö (Club, Person, Competition, Season, Stadium, Match, MatchSeries, AppUser)
- 3 –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ (MatchLineup, MatchEvent, Disqualification)  
- 3 —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (PlayerSeasonStats, PlayerClubCareerStats, ClubSeasonStats)
- 3 —Å–≤—è–∑—É—é—â–∏–µ (SeasonParticipant, SeasonRoster, Prediction)
- 2 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (AchievementType, UserAchievement)

## üéØ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –û–ß–ò–°–¢–ö–ò

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ —Ç–∞–±–ª–∏—Ü = –±—ã—Å—Ç—Ä–µ–µ –∑–∞–ø—Ä–æ—Å—ã
2. **–¢–∏–ø–∏–∑–∞—Ü–∏—è** - —É–±–∏—Ä–∞–µ–º `(prisma as any)` –æ–±—Ö–æ–¥—ã
3. **–ß–∏—Å—Ç–æ—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** - –æ–¥–Ω–∞ –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (AppUser)
4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏** - –Ω–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞

## ‚ö†Ô∏è –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø

- –£–¥–∞–ª–µ–Ω–∏–µ AdminLog –±–µ–∑–æ–ø–∞—Å–Ω–æ - —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ó–∞–º–µ–Ω–∞ User ‚Üí AppUser —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è 4 —Ñ–∞–π–ª–æ–≤ –≤ backend
- –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å Prisma client