# 0012-playoff-bracket-integration

–î–∞—Ç–∞: 05 –æ–∫—Ç—è–±—Ä—è 2025 –≥.
–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π: GitHub Copilot

## –ß—Ç–æ –±—ã–ª–æ

- –§–æ—Ä–º–∞—Ç —Å–µ—Ä–∏–π –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–ª—Å—è –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ `SINGLE_MATCH`, `TWO_LEGGED`, `BEST_OF_N`, –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –≤—ã–±–æ—Ä –ø–ª–µ–π-–æ—Ñ—Ñ —Å–µ—Ç–∫–∏.
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç–∞–¥–∏–π –ø–ª–µ–π-–æ—Ñ—Ñ –∏ –Ω–µ —É–º–µ–ª–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –ø–æ–¥ –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç.
- –ü–æ—Ä—Ç–∞–ª –∫–∞–ø–∏—Ç–∞–Ω–æ–≤ –Ω–µ –ø–æ–ª—É—á–∞–ª –¥–∞–Ω–Ω—ã—Ö –æ —Å–µ—Ç–∫–µ, –ø–æ—Å–∫–æ–ª—å–∫—É backend –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–ª –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç.
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–ª–µ–π-–æ—Ñ—Ñ –∏ –ø–æ–ª–∏—Ç–∏–∫–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–µ—Ç–∫–∏.

## –ß—Ç–æ —Å—Ç–∞–ª–æ

### Backend
- –î–æ–±–∞–≤–ª–µ–Ω –º–∞—Ä—à—Ä—É—Ç `/api/bracket` (—Å–º. `backend/src/routes/bracketRoutes.ts`) —Å –≤—ã–±–æ—Ä–æ–º —Å–µ–∑–æ–Ω–∞ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π —Å–µ—Ä–∏–π/–º–∞—Ç—á–µ–π –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å—Ç–∞–¥–∏–π.
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞–¥–∏–π (–ø–æ —Ä–∞–∑–º–µ—Ä—É –¥—Ä–æ–±–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–æ–º–∞–Ω–¥, –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º) –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–≤–æ–¥–Ω—ã—Ö –∏—Ç–æ–≥–æ–≤ —Å–µ—Ä–∏–∏ (—Å–∫–∏–ª–ª –ø–æ–±–µ–¥, —Å—á—ë—Ç).
- –ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª—É–±–æ–≤/–º–∞—Ç—á–µ–π —á–µ—Ä–µ–∑ `serializePrisma` –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è API-–æ—Ç–≤–µ—Ç–æ–≤.
- –ú–∞—Ä—à—Ä—É—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ `backend/src/server.ts`.
- –°—Ç–∞—Ç—É—Å: **temporary stub** –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ context7 (`bracket-flow.md`).

### Admin UI
- –í `admin/src/types.ts` –∏ –∫–ª–∏–µ–Ω—Ç–∞—Ö API —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Å–µ—Ä–∏–π `SeriesFormat`, –¥–æ–±–∞–≤–ª–µ–Ω `PLAYOFF_BRACKET`.
- –í–∫–ª–∞–¥–∫–∞ ¬´–ú–∞—Ç—á–∏¬ª (`admin/src/components/tabs/MatchesTab.tsx`):
  - –æ–±–Ω–æ–≤–ª—ë–Ω —Å–ø–∏—Å–æ–∫ –æ–ø—Ü–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ (–ø–æ–¥–ø–∏—Å–∏ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –ø–ª–µ–π-–æ—Ñ—Ñ-—Å–µ—Ç–∫–∏);
  - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–π —Å–µ—Ç–∫–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä—É—á–Ω—ã–µ –ø–æ—Å–µ–≤—ã;
  - –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –æ–± –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤.
- –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `PlayoffBracket.tsx` —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π —Å—Ç–∞–¥–∏–π, –º–∞—Ç—á–µ–π –∏ –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π (–Ω–µ–æ–∫—É–±–∏—Å—Ç—Å–∫–∏–π –≤–∏–¥, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ byes).
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –≤ `admin/src/app.css` –¥–ª—è —Å–µ—Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è, –Ω–µ–æ–Ω–æ–≤—ã—Ö –∞–∫—Ü–µ–Ω—Ç–æ–≤ –∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫.

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –û–±–Ω–æ–≤–ª—ë–Ω `audit/mcp-context7-summary.md` ‚Äî –ø–ª–µ–π-–æ—Ñ—Ñ –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–æÃÅ–±, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.
- –†–∞—Å—à–∏—Ä–µ–Ω—ã `docs/project.md`, `docs/state.md`, `docs/roadmap.md`, `docs/cache.md`, `docs/style.md` (—Å–º. —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã) –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ UI/–∫—ç—à—É.
- –°–æ–∑–¥–∞–Ω –¥–∞–Ω–Ω—ã–π –æ—Ç—á—ë—Ç `0012`.

## –í–ª–∏—è–Ω–∏–µ –Ω–∞ –º–µ—Ç—Ä–∏–∫–∏
- **Retention**: üîµ ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ –ø–ª–µ–π-–æ—Ñ—Ñ –ø–æ–≤—ã—à–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.
- **Engagement**: üî¥ ‚Äî –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Å—Ç–∏–º—É–ª–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –º–∞—Ç—á–∞–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π.
- **Revenue**: ‚ö™ ‚Äî –∫–æ—Å–≤–µ–Ω–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ (–ø–æ–≤—ã—à–µ–Ω–∏–µ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç–∏).
- **Tech Stability**: üü® ‚Äî –Ω—É–∂–µ–Ω –∞—É–¥–∏—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è/WS –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º.

## –°–µ—Ç—å / –∫—ç—à / WS
- –≠–Ω–¥–ø–æ–∏–Ω—Ç `/api/bracket` –ø–æ–∫–∞ –±–µ–∑ ETag –∏ multilevel cache; —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `league:bracket` (—Å–º. –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `docs/cache.md`).
- WebSocket –ø–æ–∫–∞ –Ω–µ —Ä–∞—Å—Å—ã–ª–∞–µ—Ç –ø–∞—Ç—á–∏ –ø–æ —Å—Ç–∞–¥–∏—è–º ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ `npm run build` –≤ `backend/` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Prisma Client.
- ‚¨ú –¢—Ä–µ–±—É–µ—Ç—Å—è: unit-—Ç–µ—Å—Ç—ã –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Å—Ç–∞–¥–∏–π, e2e smoke –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ a11y –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏.

## –†–∏—Å–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç context7-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –¥–ª—è –ø–ª–µ–π-–æ—Ñ—Ñ ‚Üí –ø–æ–º–µ—Ç–∫–∞ **temporary stub**, –∑–∞–ø—Ä–µ—â—ë–Ω –¥–µ–ø–ª–æ–π –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.
- –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ ETag ‚Äî –≤–æ–∑–º–æ–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ –∑–∞–ø—Ä–æ—Å–æ–≤.
- Portal (frontend) –ø–æ–∫–∞ –Ω–µ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å `bracket-flow.md` / —à–∞–±–ª–æ–Ω—ã context7.
2. –î–æ–±–∞–≤–∏—Ç—å –º—É–ª—å—Ç–∏—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ + ETag –¥–ª—è `/api/bracket`.
3. –†–∞—Å—à–∏—Ä–∏—Ç—å WebSocket –ø–∞—Ç—á–∞–º–∏ –ø–æ —Å—Ç–∞–¥–∏—è–º –ø–ª–µ–π-–æ—Ñ—Ñ.
4. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –ø–æ—Ä—Ç–∞–ª –∫–∞–ø–∏—Ç–∞–Ω–æ–≤ –∫ –Ω–æ–≤–æ–º—É API –∏ –ø–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Å–µ—Ç–∫–∏.
5. –ü—Ä–æ–≤–µ—Å—Ç–∏ a11y-–∞—É–¥–∏—Ç –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π.
