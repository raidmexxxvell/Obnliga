# 0019 — Кубок: ручная настройка групп и гибридный формат

Дата: 2025-10-06

## Что меняется
- Расширен формат соревнований: добавлен новый вариант `GROUP_SINGLE_ROUND_PLAYOFF` для кубка с групповым этапом (один круг) и последующим плей-офф.
- Prisma-схема пополнена сущностями `SeasonGroup` и `SeasonGroupSlot`, а также связью матчей и туров с группами.
- Backend автоматизация сезона обновлена: поддержка ручной раскладки по группам, генерации расписания и посева плей-офф с автоматическими проходами.
- Админ-панель получила UI для ручной настройки групп (параметры G/N/Q, распределение команд), валидацию и обновлённые сообщения.

## Безопасность и риски
- Миграция БД добавляет новые таблицы и столбцы, требует прогонки `prisma migrate dev` и регенерации клиента.
- Поведение существующих форматов сохранено; новый формат активируется только для соревнований типа «Кубок».

## Следующие шаги
- Интегрировать real-time и кэширование для новых эндпоинтов.
- После получения артефактов MCP Context7 синхронизировать реализованную логику с оригинальными шаблонами.
