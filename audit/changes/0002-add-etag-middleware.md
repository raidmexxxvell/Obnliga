Date: 2025-09-28
What: Добавлен лёгкий middleware/плагин ETag для Fastify (файл `backend/src/plugins/etag.ts`) и подключён в `server.ts`.

Зачем: Фаза 2 дорожной карты требует поддержки ETag/If-None-Match для реализации SWR-подхода на фронтенде. Изменение низкорисково и повышает эффективность сетевого трафика для GET-эндпоинтов.

Как протестировано: выполнена компиляция TypeScript и быстрый прогон (см. команды в `docs/dev-setup.md`). Поведение для не-GET запросов не меняется. Если клиент отправляет `If-None-Match`, совпадающий с вычисленным ETag, сервер возвращает 304 и заголовок `ETag`.

Изменённые файлы:
- `backend/src/plugins/etag.ts` — новый Fastify-плагин для ETag
- `backend/src/server.ts` — регистрация плагина

Дальше / Рекомендации:
- Добавить интеграционные тесты (supertest) для проверки поведения ETag: 200 + ETag, 304 при совпадении, отсутствие влияния на POST/PUT/DELETE.
- При необходимости унифицировать стратегию вычисления ETag (хеширование тела vs version field) — вынести в общий утилитный модуль для согласованности между инстансами/сервисами.
